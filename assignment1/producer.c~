#include <stdio.h>
#include <pthread.h>
#define MAX 3
pthread_mutex_t the_mutex;
pthread_cond_t condc, condp;
int n;
n = 0;

void* producer(void *ptr) {
  int i;
  for (i = 0; i < MAX; i++) {
    pthread_mutex_lock(&the_mutex);
    while (toConsume <= 0) 
      pthread_cond_wait(&condc, &the_mutex);
    pthread_mutex_unlock(&the_mutex);

    usleep(5000);

    pthread_mutex_lock(&the_mutex); 
    printf("Consumer: Consumed item %d\n", i);
    toConsume--;
    pthread_mutex_unlock(&the_mutex); 

  }
  pthread_exit(0);
}
